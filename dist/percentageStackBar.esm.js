import"core-js/modules/es.array.for-each";import"core-js/modules/es.function.name";import"core-js/modules/web.dom-collections.for-each";import"core-js/modules/es.number.constructor";import"core-js/modules/es.array.fill";import"core-js/modules/es.array.filter";import"core-js/modules/es.array.find";import"core-js/modules/es.array.map";import"core-js/modules/es.array.reduce";import"core-js/modules/es.number.to-fixed";import e from"lodash/cloneDeep";import"core-js/modules/es.array.concat";var t=function(e,t,r,n,o,i,s,a,u,d){"boolean"!=typeof s&&(u=a,a=s,s=!1);var c,l="function"==typeof r?r.options:r;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),n&&(l._scopeId=n),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=c):t&&(c=s?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),c)if(l.functional){var f=l.render;l.render=function(e,t){return c.call(t),f(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return r},r={name:"percentageStackBar",props:{value:{type:Array,default:function(){return Array.prototype.constructor()},validator:function(e){return!e.find((function(e){return"string"==typeof e}))&&(void 0!==e.find((function(e){return/^\d{1,2}(\.\d{1,})?$/g.test(e)}))&&!(e.reduce((function(e,t){return e+Number(t)}),0)>100))}},title:{type:String,default:function(){return String.prototype.constructor()}},showRemark:{type:Boolean,default:function(){return!0}},spaceForZero:{tyep:Number,default:function(){return 5}}},data:function(){return{dto:Array.prototype.constructor()}},mounted:function(){this.value&&this.build(this.value)},activated:function(){this.value&&this.build(this.value)},methods:{build:function(t){var r=this;if(Array.isArray(t))if(void 0!==t.find((function(e){return 0===e}))){var n=t.filter((function(e){return 0===e})).length;n===t.length?this.dto=Array(t.length).fill({desc:0,val:(100/t.length).toFixed(3)}):this.dto=t.map((function(e){return{desc:e,val:0===e?r.spaceForZero:((100-n*r.spaceForZero)*e/100).toFixed(3)}}))}else this.dto=e(t).map((function(e){return{desc:e,val:e}}))},validator:function(){return void 0!==this.value.find((function(e){return/^\d{1,2}(\.\d{1,})?$/g.test(e)}))&&!(this.value.reduce((function(e,t){return e+Number(t)}),0)>100)}},watch:{value:function(e){this.build(e)}}},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"psb-wr"},[e.validator()?r("div",{staticClass:"psb-main"},[r("div",{staticClass:"psb-stk"},e._l(e.dto,(function(t,n){return r("div",{key:n,staticClass:"psb-stk-v",style:{height:Number(t.val)+"%"}},[r("span",{staticClass:"vl"},[e._v(e._s(Number(t.desc)+"%"))])])})),0),e._v(" "),e.title?r("div",{staticClass:"psb-su"},[e._v(e._s(e.title))]):e._e()]):e._e(),e._v(" "),e.showRemark?r("div",{staticClass:"psb-mk"},[e._t("remark",null,{dto:e.value})],2):e._e()])};n._withStripped=!0;var o=t({render:n,staticRenderFns:[]},undefined,r,"data-v-ba42b368",!1,undefined,void 0,void 0),i=[o],s=function(e){i.forEach((function(t){e.component(t.name,t)}))};"undefined"!=typeof window&&window.Vue&&s(window.Vue);export default s;export{o as PercentageStackBar};
