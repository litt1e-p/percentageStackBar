import t from"lodash/cloneDeep";var e=function(t,e,n,r,i,o,a,s,u,d){"boolean"!=typeof a&&(u=s,s=a,a=!1);var c,l="function"==typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),r&&(l._scopeId=r),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):e&&(c=a?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(l.functional){var f=l.render;l.render=function(t,e){return c.call(e),f(t,e)}}else{var v=l.beforeCreate;l.beforeCreate=v?[].concat(v,c):[c]}return n};const n={name:"percentageStackBar",props:{value:{type:Array,default:function(){return Array.prototype.constructor()},validator:function(t){return!t.find((function(t){return"string"==typeof t}))&&(void 0!==t.find((function(t){return/^\d{1,2}(\.\d{1,})?$/g.test(t)}))&&!(t.reduce((function(t,e){return t+Number(e)}),0)>100))}},title:{type:String,default:function(){return String.prototype.constructor()}},showRemark:{type:Boolean,default:function(){return!0}},spaceForZero:{tyep:Number,default:function(){return 5}}},data:function(){return{dto:Array.prototype.constructor()}},mounted:function(){this.value&&this.build(this.value)},activated:function(){this.value&&this.build(this.value)},methods:{build:function(e){var n=this;if(Array.isArray(e))if(void 0!==e.find((function(t){return 0===t}))){var r=e.filter((function(t){return 0===t})).length;r===e.length?this.dto=Array(e.length).fill({desc:0,val:(100/e.length).toFixed(3)}):this.dto=e.map((function(t){return{desc:t,val:0===t?n.spaceForZero:((100-r*n.spaceForZero)*t/100).toFixed(3)}}))}else this.dto=t(e).map((function(t){return{desc:t,val:t}}))},validator:function(){return void 0!==this.value.find((function(t){return/^\d{1,2}(\.\d{1,})?$/g.test(t)}))&&!(this.value.reduce((function(t,e){return t+Number(e)}),0)>100)}},watch:{value:function(t){this.build(t)}}};var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"psb-wr"},[t.validator()?n("div",{staticClass:"psb-main"},[n("div",{staticClass:"psb-stk"},t._l(t.dto,(function(e,r){return n("div",{key:r,staticClass:"psb-stk-v",style:{height:Number(e.val)+"%"}},[n("span",{staticClass:"vl"},[t._v(t._s(Number(e.desc)+"%"))])])})),0),t._v(" "),t.title?n("div",{staticClass:"psb-su"},[t._v(t._s(t.title))]):t._e()]):t._e(),t._v(" "),t.showRemark?n("div",{staticClass:"psb-mk"},[t._t("remark",null,{dto:t.value})],2):t._e()])};r._withStripped=!0;var i=e({render:r,staticRenderFns:[]},void 0,n,"data-v-ba42b368",!1,void 0,void 0,void 0),o=[i],a=function(t){o.forEach((function(e){t.component(e.name,e)}))};"undefined"!=typeof window&&window.Vue&&a(window.Vue);export default a;export{i as PercentageStackBar};
