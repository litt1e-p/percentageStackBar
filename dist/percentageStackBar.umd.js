!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lodash/cloneDeep")):"function"==typeof define&&define.amd?define(["exports","lodash/cloneDeep"],e):(t=t||self,e(t.percentageStackBar={},t.cloneDeep))}(this,function(t,e){"use strict";function n(t,e,n,r,o,i,s,a,u,d){"boolean"!=typeof s&&(u=a,a=s,s=!1);var c="function"==typeof n?n.options:n;t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),r&&(c._scopeId=r);var f;if(i?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=f):e&&(f=s?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),f)if(c.functional){var l=c.render;c.render=function(t,e){return f.call(e),l(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,f):[f]}return n}e=e&&e.hasOwnProperty("default")?e.default:e;var r=n;const o={name:"percentageStackBar",props:{value:{type:Array,default:function(){return Array.prototype.constructor()},validator:function(t){return!t.find(function(t){return"string"==typeof t})&&(void 0!==t.find(function(t){return/^\d{1,2}(\.\d{1,})?$/g.test(t)})&&!(t.reduce(function(t,e){return t+Number(e)},0)>100))}},title:{type:String,default:function(){return String.prototype.constructor()}},showRemark:{type:Boolean,default:function(){return!0}},spaceForZero:{tyep:Number,default:function(){return 5}}},data(){return{dto:Array.prototype.constructor()}},mounted(){this.value&&this.build(this.value)},methods:{build(t){var n=this;if(Array.isArray(t)){if(void 0===t.find(function(t){return 0===t}))return void(this.dto=e(t).map(function(t){return{desc:t,val:t}}));var r=t.filter(function(t){return 0===t}).length;r===t.length?this.dto=Array(t.length).fill({desc:0,val:(100/t.length).toFixed(3)}):this.dto=t.map(function(t){return{desc:t,val:0===t?n.spaceForZero:((100-r*n.spaceForZero)*t/100).toFixed(3)}})}},validator(){return void 0!==this.value.find(function(t){return/^\d{1,2}(\.\d{1,})?$/g.test(t)})&&!(this.value.reduce(function(t,e){return t+Number(e)},0)>100)}},watch:{value(t){this.build(t)}}};var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"psb-wr"},[t.validator()?n("div",{staticClass:"psb-main"},[n("div",{staticClass:"psb-stk"},t._l(t.dto,function(e,r){return n("div",{key:r,staticClass:"psb-stk-v",style:{height:Number(e.val)+"%"}},[n("span",{staticClass:"vl"},[t._v(t._s(Number(e.desc)+"%"))])])}),0),t._v(" "),t.title?n("div",{staticClass:"psb-su"},[t._v(t._s(t.title))]):t._e()]):t._e(),t._v(" "),t.showRemark?n("div",{staticClass:"psb-mk"},[t._t("remark",null,{dto:t.value})],2):t._e()])},s=[];i._withStripped=!0;var a=r({render:i,staticRenderFns:s},void 0,o,"data-v-0ded51e4",!1,void 0,void 0,void 0),u=[a],d=function(t){u.forEach(function(e){t.component(e.name,e)})};"undefined"!=typeof window&&window.Vue&&d(window.Vue),t.PercentageStackBar=a,t.default=d,Object.defineProperty(t,"__esModule",{value:!0})});
