!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash/cloneDeep")):"function"==typeof define&&define.amd?define(["exports","lodash/cloneDeep"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).percentageStackBar={},e.cloneDeep)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);var i=function(e,t,n,r,i,o,a,s,u,d){"boolean"!=typeof a&&(u=s,s=a,a=!1);var c,l="function"==typeof n?n.options:n;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),r&&(l._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):t&&(c=a?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),c)if(l.functional){var f=l.render;l.render=function(e,t){return c.call(t),f(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return n},o={name:"percentageStackBar",props:{value:{type:Array,default:function(){return Array.prototype.constructor()},validator:function(e){return!e.find((function(e){return"string"==typeof e}))&&(void 0!==e.find((function(e){return/^\d{1,2}(\.\d{1,})?$/g.test(e)}))&&!(e.reduce((function(e,t){return e+Number(t)}),0)>100))}},title:{type:String,default:function(){return String.prototype.constructor()}},showRemark:{type:Boolean,default:function(){return!0}},spaceForZero:{tyep:Number,default:function(){return 5}}},data:function(){return{dto:Array.prototype.constructor()}},mounted:function(){this.value&&this.build(this.value)},activated:function(){this.value&&this.build(this.value)},methods:{build:function(e){var t=this;if(Array.isArray(e))if(void 0!==e.find((function(e){return 0===e}))){var n=e.filter((function(e){return 0===e})).length;n===e.length?this.dto=Array(e.length).fill({desc:0,val:(100/e.length).toFixed(3)}):this.dto=e.map((function(e){return{desc:e,val:0===e?t.spaceForZero:((100-n*t.spaceForZero)*e/100).toFixed(3)}}))}else this.dto=r.default(e).map((function(e){return{desc:e,val:e}}))},validator:function(){return void 0!==this.value.find((function(e){return/^\d{1,2}(\.\d{1,})?$/g.test(e)}))&&!(this.value.reduce((function(e,t){return e+Number(t)}),0)>100)}},watch:{value:function(e){this.build(e)}}},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"psb-wr"},[e.validator()?n("div",{staticClass:"psb-main"},[n("div",{staticClass:"psb-stk"},e._l(e.dto,(function(t,r){return n("div",{key:r,staticClass:"psb-stk-v",style:{height:Number(t.val)+"%"}},[n("span",{staticClass:"vl"},[e._v(e._s(Number(t.desc)+"%"))])])})),0),e._v(" "),e.title?n("div",{staticClass:"psb-su"},[e._v(e._s(e.title))]):e._e()]):e._e(),e._v(" "),e.showRemark?n("div",{staticClass:"psb-mk"},[e._t("remark",null,{dto:e.value})],2):e._e()])};a._withStripped=!0;var s=i({render:a,staticRenderFns:[]},undefined,o,"data-v-ba42b368",!1,undefined,void 0,void 0),u=[s],d=function(e){u.forEach((function(t){e.component(t.name,t)}))};"undefined"!=typeof window&&window.Vue&&d(window.Vue),e.PercentageStackBar=s,e.default=d,Object.defineProperty(e,"__esModule",{value:!0})}));
